<!doctype html>
<html lang="en-GB">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <style>
    html {
      font-size: 10px;
      /* This is to match petabox's base font size */
    }
    body {
      margin: 0;
      text-align: center;
      font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
    }
    #demo {
      height: 50px;
    }
    ia-book-actions {
      --white: #fff;
      --black: #000;
      --primaryBGColor: var(--black);
      --secondaryBGColor: #222;
      --tertiaryBGColor: #333;
      --primaryTextColor:  var(--white);
      --primaryCTAFill: #194880;
      --primaryCTABorder: #c5d1df;
      --secondaryCTAFill: #333;
      --secondaryCTABorder: #999;
      --primaryErrorCTAFill: #e51c26;
      --primaryErrorCTABorder: #f8c6c8;
    }
  </style>
</head>

<body>
  <div id="demo"></div>
  <script type="module">
    import { html, render } from 'lit-html';
    import {
      defaultLendingStatus,
      canBrowse,
      browsed,
      canBrowseAndBorrow,
      browsedAndBorrow,
      canBrowseAndBorrowod,
      canBrowseAndJoinWaitlistForBorrow,
    } from '../src/assets/data/lending-get-status-service.js';
    import '../src/ia-book-actions.js';
    import { URLHelper } from '../src/core/config/url-helper.js';

    const userid = '@neeraj-archive';
    const identifier = 'goody';
    const bwbPurchaseUrl = 'https://www.betterworldbooks.com/product/detail/cambridge-ancient-hist-v04-0521044863';

    let lendingStatus = URLHelper.getQueryParam('mode');
    switch (lendingStatus) {
      case 'canBrowse':
       lendingStatus = canBrowse;
        break;
      case 'browsed':
        lendingStatus = browsed;
        break;
      case 'canBrowseAndBorrow':
       lendingStatus = canBrowseAndBorrow;
        break;
      case 'browsedAndBorrow':
        lendingStatus = browsedAndBorrow;
        break;
      case 'canBrowseAndBorrowod':
        lendingStatus = canBrowseAndBorrowod;
        break;
      case 'canBrowseAndJoinWaitlistForBorrow':
        lendingStatus = canBrowseAndJoinWaitlistForBorrow;
        break;
      default:
        lendingStatus = defaultLendingStatus;
    }

    render(
      html`
        <ia-book-actions
          .userid=${userid}
          .identifier=${identifier}
          .lendingStatus=${lendingStatus}
          .bwbPurchaseUrl=${bwbPurchaseUrl}
        >
        </ia-book-actions>
      `,
      document.querySelector('#demo')
    );
  </script>

  <div>
    <style>
      fieldset {
        width: fit-content;
        margin-top: 50px;
      }
      fieldset legend {
        text-align: left;
        font-size: 12px;
      }
      td {
        background: #4e545a;
        color: white;
        font-size: 14px;
        border-radius: 5%;
        display: table-cell;
        text-align: initial;
        margin: 5px 0;
        width: max-content;
        display: block;
      }
      label {
        padding: 10px;
        display: block;
        cursor: pointer;
      }
      input[type="radio"] {
        margin-top: 0;
        vertical-align: middle;
        display: none;
      }
    </style>
    <fieldset>
      <legend>Dev try for lending banner</legend>
        <table class="mode">
        <tr>
          <td>
            <label><input type="radio" name="contact" value="canBrowse" />CanBrowse</label>
          </td>
          <td>
            <label><input type="radio" name="contact" value="browsed" />browsed</label>
          </td>
          <td>
            <label><input type="radio" name="contact" value="canBrowseAndBorrow" />canBrowseAndBorrow</label>
          </td>
          <td>
            <label><input type="radio" name="contact" value="browsedAndBorrow" />browsedAndBorrow</label>
          </td>
          <td>
            <label><input type="radio" name="contact" value="canBrowseAndBorrowod" />canBrowseAndBorrowod</label>
          </td>
          <td>
            <label><input type="radio" name="contact" value="canBrowseAndJoinWaitlistForBorrow" />canBrowseAndJoinWaitlistForBorrow</label>
          </td>
        </tr>
      </table>
      <script>
        document.querySelectorAll('.mode label').forEach((item) => {
          item.addEventListener('click', (e) => {
            window.location.href = `?mode=${e.target.value}`;
          })
        });
      </script>
    </fieldset>
  </div>
</body>
</html>
