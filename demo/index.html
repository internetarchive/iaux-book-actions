<!doctype html>
<html lang="en-GB">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <style>
    html {
      font-size: 10px;
      /* This is to match petabox's base font size */
    }
    body {
      margin: 0;
      text-align: center;
      font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
    }
    #demo {
      height: 50px;
    }
    ia-book-actions {
      --white: #fff;
      --black: #000;
      --primaryBGColor: var(--black);
      --secondaryBGColor: #222;
      --tertiaryBGColor: #333;
      --primaryTextColor:  var(--white);
      --primaryCTAFill: #194880;
      --primaryCTABorder: #c5d1df;
      --secondaryCTAFill: #333;
      --secondaryCTABorder: #999;
      --primaryErrorCTAFill: #e51c26;
      --primaryErrorCTABorder: #f8c6c8;
    }
  </style>
</head>

<body>
  <ia-book-actions></ia-book-actions>

  <script type="module">
    import '../src/ia-book-actions.js';
    import {
      defaultLendingStatus,
      canBrowse,
      browsed,
      canBrowseAndBorrow,
      browsedAndBorrow,
      canBrowseAndBorrowod,
      canBrowseAndJoinWaitlistForBorrow,
    } from '../src/assets/data/lending-get-status-service.js';

    const userid = '@neeraj-archive';
    const identifier = 'naturalhistoryof00unse_4';
    const bwbPurchaseUrl = 'https://www.betterworldbooks.com/product/detail/cambridge-ancient-hist-v04-0521044863';

    const iaBookActions = document.querySelector('ia-book-actions');

    iaBookActions.userid = userid;
    iaBookActions.identifier = identifier;
    iaBookActions.lendingStatus = canBrowse;
    iaBookActions.bwbPurchaseUrl = bwbPurchaseUrl;

    document.querySelectorAll('.mode label').forEach((item) => {
      item.addEventListener('click', (e) => {
        let lendingStatus = defaultLendingStatus;
        switch (e.target.value) {
          case 'canBrowse':
          lendingStatus = canBrowse;
            break;
          case 'browsed':
            lendingStatus = browsed;
            break;
          case 'canBrowseAndBorrow':
          lendingStatus = canBrowseAndBorrow;
            break;
          case 'browsedAndBorrow':
            lendingStatus = browsedAndBorrow;
            break;
          case 'canBrowseAndBorrowod':
            lendingStatus = canBrowseAndBorrowod;
            break;
          case 'canBrowseAndJoinWaitlistForBorrow':
            lendingStatus = canBrowseAndJoinWaitlistForBorrow;
            break;
          default:
            lendingStatus = defaultLendingStatus;
        }

        iaBookActions.lendingStatus = lendingStatus;
      })
    });
  </script>

  <div>
    <style>
      fieldset {
        width: fit-content;
        margin-top: 50px;
      }
      fieldset legend {
        text-align: left;
        font-size: 12px;
      }
      td {
        background: #4e545a;
        color: white;
        font-size: 14px;
        border-radius: 5%;
        display: table-cell;
        text-align: initial;
        margin: 5px 0;
        width: max-content;
        display: block;
      }
      label {
        padding: 10px;
        display: block;
        cursor: pointer;
      }
      input[type="radio"] {
        margin-top: 0;
        vertical-align: middle;
      }
    </style>

    <fieldset>
      <legend>Dev try for lending banner</legend>
        <table class="mode">
        <tr>
          <td>
            <label><input type="radio" name="contact" value="canBrowse" />CanBrowse</label>
          </td>
          <td>
            <label><input type="radio" name="contact" value="browsed" />browsed</label>
          </td>
          <td>
            <label><input type="radio" name="contact" value="canBrowseAndBorrow" />canBrowseAndBorrow</label>
          </td>
          <td>
            <label><input type="radio" name="contact" value="browsedAndBorrow" />browsedAndBorrow</label>
          </td>
          <td>
            <label><input type="radio" name="contact" value="canBrowseAndBorrowod" />canBrowseAndBorrowod</label>
          </td>
          <td>
            <label><input type="radio" name="contact"
              id="canBrowseAndJoinWaitlistForBorrow" value="canBrowseAndJoinWaitlistForBorrow" />canBrowseAndJoinWaitlistForBorrow</label>
          </td>
        </tr>
      </table>
    </fieldset>
  </div>
</body>
</html>
